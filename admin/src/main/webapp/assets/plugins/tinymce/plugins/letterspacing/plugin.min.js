!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(t,n,e){t.undoManager.transact(function(){t.focus(),t.formatter.apply(n,e),t.nodeChanged()})},n=function(t){t.on("init",function(){t.formatter.register({letterspacing:{inline:"span",styles:{"letter-spacing":"%value"}}})})},e=function(e){e.addButton("letterspacing",function(){var a,n,o,c=[],t=e.settings.letterspacing_formats||"Default=inherit 0.25=0.25px 0.5=0.5px 1=1px 1.5=1.5px 2=2px 2.5=2.5px 3=3px 4=4px 5=5px";return(t=t.startsWith("Default=inherit")?t:"Default=inherit "+t).split(" ").forEach(function(t){var n=t,e=t,i=t.split("=");1<i.length&&(n=i[0],e=i[1]),c.push({text:n,value:e})}),{type:"menubutton",icon:"text-width",tooltip:"Letter Spacing",menu:c,onPostRender:(n=e,o=c,function(t){n.on("NodeChange",function(t){var e=n.formatter,i=null;t.parents.forEach(function(n){o.forEach(function(t){if(e.matchNode(n,"letterspacing",{value:t.value})&&(i=t.value),i)return!1})})})}),onshow:(a=e,function(t){var n,e,i=(e=(n=a).dom.getParent(n.selection.getNode(),"span"),n.dom.getStyle(e,"letter-spacing")||"");i?t.control.items().each(function(t){t.active(t.settings.value===i)}):(t.control.items().each(function(t){t.active(!1)}),t.control.items().each(function(t){if("inherit"===t.settings.value)return t.active(!0),!1}))}),onselect:function(t){e.execCommand("ApplyLetterSpacing","letterspacing",{value:t.control.settings.value})}}})},a=function(e){e.addCommand("ApplyLetterSpacing",function(t,n){i(e,t,n)})};t.add("letterspacing",function(t){n(t),a(t),e(t)})}();