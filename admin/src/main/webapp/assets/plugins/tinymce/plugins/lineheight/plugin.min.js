!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,n),e.nodeChanged()})},t=function(e){e.on("init",function(){e.formatter.register({lineheight:{inline:"span",styles:{"line-height":"%value"}}})})},n=function(n){n.addCommand("ApplyLineHeight",function(e,t){i(n,e,t)})},o=function(n){n.addButton("lineheight",function(){var o,t,a,u=[],e=n.settings.lineheight_formats||"Default=inherit 1.2=1.2em 1.4=1.4em 1.5=1.5em 1.75=1.75em 2=2em 2.5=2.5em 3=3em 4=4em 5=5em";return(e=e.startsWith("Default=inherit")?e:"Default=inherit "+e).split(" ").forEach(function(e){var t=e,n=e,i=e.split("=");1<i.length&&(t=i[0],n=i[1]),u.push({text:t,value:n})}),{type:"menubutton",icon:"text-height",tooltip:"Line Height",menu:u,onPostRender:(t=n,a=u,function(e){t.on("NodeChange",function(e){var n=t.formatter,i=null;e.parents.forEach(function(t){a.forEach(function(e){if(n.matchNode(t,"lineheight",{value:e.value})&&(i=e.value),i)return!1})})})}),onshow:(o=n,function(e){var t,n,i=(n=(t=o).dom.getParent(t.selection.getNode(),"span"),t.dom.getStyle(n,"line-height")||"");i?e.control.items().each(function(e){e.active(e.settings.value===i)}):(e.control.items().each(function(e){e.active(!1)}),e.control.items().each(function(e){if("inherit"===e.settings.value)return e.active(!0),!1}))}),onselect:function(e){n.execCommand("ApplyLineHeight","lineheight",{value:e.control.settings.value})}}})};e.add("lineheight",function(e){t(e),n(e),o(e)})}();